<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI5 2. Splash Screen Demo</title>

    <style>
        /* Splash Screen Styles */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }

        #splash-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        #splash-video {
            width: 80%;
            height: 80%;
            object-fit: contain;
            margin: auto;
        }

        /* Hide body content until loaded */
        body.loading #content {
            visibility: hidden;
        }
    </style>

    <script
        id="sap-ui-bootstrap"
        src="https://sdk.openui5.org/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-libs="sap.m"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-async="true"
        data-sap-ui-onInit="module:sap/ui/core/ComponentSupport"
        data-sap-ui-resourceroots='{
            "myapp": "./"
        }'>
    </script>

    <script>
        sap.ui.getCore().attachInit(function() {
            console.log("UI5 Core ready - hiding splash screen");
            // UI5 betöltődött, elrejtjük a splash screent
            setTimeout(function() {
                document.body.classList.remove('loading');
                var splashScreen = document.getElementById('splash-screen');
                splashScreen.classList.add('fade-out');

                // Eltávolítjuk a DOM-ból az animáció után
                setTimeout(function() {
                    splashScreen.remove();
                    console.log("Splash screen removed");
                }, 1000);
            }, 120000); // 2 perc (120 másodperc) minimális megjelenítési idő
        });
    </script>
</head>
<body class="sapUiBody loading">
    <!-- Splash Screen -->
    <div id="splash-screen">
        <video id="splash-video" autoplay loop muted playsinline poster="splash-poster.jpeg">
            <source src="splash-video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        // Beállítjuk a videó sebességét 0.2-re (5x lassítás)
        document.addEventListener('DOMContentLoaded', function() {
            var video = document.getElementById('splash-video');
            video.playbackRate = 0.2;
        });
    </script>

    <!-- Main Content -->
    <div id="content"
         data-sap-ui-component
         data-name="myapp"
         data-id="container"
         data-settings='{"id" : "myapp"}'>
    </div>
</body>
</html>
